\begin{abstract}

\textit{Nail} is an interface generator that greatly reduces the
programmer effort for safely parsing and generating protocols defined
by a Parser-Expression based grammar.
\XXX[what is an interface generator?]
\XXX[what is a Parser-Expression based grammar?]
Nail introduces several key
ideas to achieve its goal.  First, Nail uses the protocol grammar to
define not just the data format, but also the internal object model
of the data.  Second, Nail eliminates the notion of semantic actions,
used by existing parser generators, which reduces the expressive power
but allows Nail to both {\em parse} data formats and {\em generate}
them from the internal object model, by maintaining a {\em semantic
bijection} between the data format and the object model.  Third,
Nail introduces {\em dependency fields} and {\em stream transforms} to
capture protocol features such as size and offset fields, checksums,
and compressed data, which are impractical to express in existing
protocol languages.  Using Nail, we implement a complete DNS server in
C in under 300 lines of code and grammar, and a complete {\tt unzip}
program in C in 220 lines of code and grammar, demonstrating that Nail
makes it easy to parse complex real-world data formats.  Performance
experiments show that a Nail-based DNS server can outperform the widely
used BIND DNS server, demonstrating that Nail parsers can achieve good
performance.

\end{abstract}
