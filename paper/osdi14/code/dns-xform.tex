\begin{Verbatim}[commandchars=\\\{\},codes={\catcode`\$=3\catcode`\^=7\catcode`\_=8}]
\PY{k+kt}{int} \PY{n+nf}{dnscompress\PYZus{}parse}\PY{p}{(}\PY{n}{NailArena} \PY{o}{*}\PY{n}{tmp}\PY{p}{,}
  \PY{n}{NailStream} \PY{o}{*}\PY{n}{out\PYZus{}decomp}\PY{p}{,}
  \PY{n}{NailStream} \PY{o}{*}\PY{n}{in\PYZus{}current}\PY{p}{)}\PY{p}{;}

\PY{k+kt}{int} \PY{n+nf}{dnscompress\PYZus{}generate}\PY{p}{(}\PY{n}{NailArena} \PY{o}{*}\PY{n}{tmp}\PY{p}{,}
  \PY{n}{NailStream} \PY{o}{*}\PY{n}{in\PYZus{}decomp}\PY{p}{,}
  \PY{n}{NailStream} \PY{o}{*}\PY{n}{out\PYZus{}current}\PY{p}{)}\PY{p}{;}
\end{Verbatim}
